<script>
    const blogs = [];

    function create1stBlog() {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                blogs.push({ title: 'BLOG1' });
                resolve();
            }, 3000);
        });
    }

    function create2ndBlog() {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                blogs.push({ title: 'BLOG2' });
                resolve();
            }, 2000);
        });
    }

    async function deleteBlogs() {
        try {
            const firstDeletedBlog = await deleteBlog();
            console.log(firstDeletedBlog.title);

            const secondDeletedBlog = await deleteBlog();
            console.log(secondDeletedBlog.title);

            const thirdDeletedBlog = await deleteBlog();
            console.log(thirdDeletedBlog.title);
        } catch (err) {
            console.log(err);
        }
    }

    function deleteBlog() {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                if (blogs.length > 0) {
                    const poppedElement = blogs.pop();
                    resolve(poppedElement);
                } else {
                    reject("ERROR");
                }
            }, 1000);
        });
    }

    
    async function executeAsyncCode() {
        try {
            await create1stBlog();
            await create2ndBlog();
            await deleteBlogs();
        } catch (error) {
            console.error(error);
        }
    }

 
    executeAsyncCode();

</script>